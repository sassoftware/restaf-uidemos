var t=require("react"),n=require("@sassoftware/restafedit");function e(e){var r=e.appEnv,a=t.useState(!0),o=a[0],u=a[1],i=t.useState(null),c=i[0],s=i[1],l=function(t){s({status:2,msg:t})},f=r.appControl.appData.getViewer(r.appControl.appData);return h(t.Fragment,null,h(f,{onEdit:function(t,e,a,i){n.cellEdit(t,e,a,i,r).then(function(t){u(!o),s(null)}).catch(function(t){l(t),s(t)})},onScroll:function(t){n.scrollTable(t,r).then(function(t){u(!o),s({status:0,msg:null})}).catch(function(t){l(t)})},onSave:function(t){n.casUpdateRow(t,r).then(function(t){s({status:0,msg:t})}).catch(function(t){return s({status:2,msg:t})})},status:c,appEnv:r}))}module.exports={DataEditor:function(r){var a=r.viyaConnection,o=r.appControl,u=t.useState({}),i=u[0],c=u[1];t.useEffect(function(){(function(){try{return Promise.resolve(n.setup(a,o)).then(function(t){return Promise.resolve(n.scrollTable("first",t)).then(function(){return t})})}catch(t){return Promise.reject(t)}})().then(function(t){c(t)}).catch(function(t){throw new Error(JSON.stringify(t))})},[]);var s=null;return null!=i.session&&(s=h("div",{id:"page-wrap",key:Date()},h(e,{appEnv:i,key:i.id}))),s},DataViewer:e};
//# sourceMappingURL=index.js.map
