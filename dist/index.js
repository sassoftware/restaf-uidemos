var e=require("react"),t=require("prop-types"),n=require("@sassoftware/restafedit");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=/*#__PURE__*/r(e),o=/*#__PURE__*/r(t);function a(t){var r=t.appEnv,o=t.editor,a=e.useState(!0),i=a[0],c=a[1],s=e.useState(null),l=s[0],f=s[1],d=function(e){f({status:2,msg:e})},p=o();/*#__PURE__*/return u.default.createElement(e.Fragment,null,/*#__PURE__*/u.default.createElement(p,{onEdit:function(e,t,u,o){n.cellEdit(e,t,u,o,r).then(function(e){c(!i),f(null)}).catch(function(e){d(e),f(e)})},onScroll:function(e){n.scrollTable(e,r).then(function(e){c(!i),f({status:0,msg:null})}).catch(function(e){d(e)})},onSave:function(e){n.updateTableRows(e,r).then(function(e){f({status:0,msg:e})}).catch(function(e){return f({status:2,msg:e})})},status:l,appEnv:r}))}function i(t){var r=t.viyaConnection,o=t.appControl,i=t.editor,c=e.useState({}),s=c[0],l=c[1];e.useEffect(function(){(function(){try{return Promise.resolve(n.setup(r,o)).then(function(e){return Promise.resolve(n.scrollTable("first",e)).then(function(){return e})})}catch(e){return Promise.reject(e)}})().then(function(e){l(e)}).catch(function(e){throw new Error(JSON.stringify(e))})},[]);var f=null;return null!=s.session&&(f=/*#__PURE__*/u.default.createElement("div",{id:"page-wrap",key:Date()},/*#__PURE__*/u.default.createElement(a,{appEnv:s,editor:i}))),f}a.propTypes={appEnv:o.default.object.isRequired,editor:o.default.func.isRequired},i.propTypes={viyaConnection:o.default.object.isRequired,appControl:o.default.object.isRequired,editor:o.default.func.isRequired},exports.DataEditor=i,exports.DataViewer=a;
//# sourceMappingURL=index.js.map
