var t=require("react"),e=require("@sassoftware/restafedit");function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=/*#__PURE__*/n(t);function a(n){var a=n.appEnv,o=t.useState(!0),u=o[0],i=o[1],c=t.useState(null),s=c[0],p=c[1],l=function(t){p({status:2,msg:t})},f=a.appControl.appData.getViewer(a.appControl.appData);/*#__PURE__*/return r.default.createElement(t.Fragment,null,/*#__PURE__*/r.default.createElement(f,{onEdit:function(t,n,r,o){e.cellEdit(t,n,r,o,a).then(function(t){i(!u),p(null)}).catch(function(t){l(t),p(t)})},onScroll:function(t){e.scrollTable(t,a).then(function(t){i(!u),p({status:0,msg:null})}).catch(function(t){l(t)})},onSave:function(t){e.casUpdateRow(t,a).then(function(t){p({status:0,msg:t})}).catch(function(t){return p({status:2,msg:t})})},status:s,appEnv:a}))}function o(n){var o=n.viyaConnection,u=n.appControl,i=t.useState({}),c=i[0],s=i[1];t.useEffect(function(){(function(){try{return Promise.resolve(e.setup(o,u)).then(function(t){return Promise.resolve(e.scrollTable("first",t)).then(function(){return t})})}catch(t){return Promise.reject(t)}})().then(function(t){s(t)}).catch(function(t){throw new Error(JSON.stringify(t))})},[]);var p=null;return null!=c.session&&(p=/*#__PURE__*/r.default.createElement("div",{id:"page-wrap",key:Date()},/*#__PURE__*/r.default.createElement(a,{appEnv:c,key:c.id}))),p}a.propTypes={appEnv:t.PropTypes.object.isRequired},o.propTypes={viyaConnection:PropTypes.object.isRequired,appControl:PropTypes.object.isRequired},exports.DataEditor=o,exports.DataViewer=a;
//# sourceMappingURL=index.js.map
