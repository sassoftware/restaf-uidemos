var e=require("react"),t=require("prop-types"),n=require("@sassoftware/restafedit");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=/*#__PURE__*/r(e),a=/*#__PURE__*/r(t);function i(t){var r=t.appEnv,a=e.useState(!0),i=a[0],o=a[1],c=e.useState(null),s=c[1],f=function(e){s({status:2,msg:e})};/*#__PURE__*/return u.default.createElement(e.Fragment,null,t.render(function(e,t,u,a){n.cellEdit(e,t,u,a,r).then(function(e){o(!i),s(null)}).catch(function(e){f(e),s(e)})},function(e){n.scrollTable(e,r).then(function(e){o(!i),s({status:0,msg:null})}).catch(function(e){f(e)})},function(e){n.updateTableRows(e,r).then(function(e){s({status:0,msg:e})}).catch(function(e){return s({status:2,msg:e})})},c[0],r))}function o(t){var r=t.viyaConnection,a=t.appControl,o=e.useState({}),c=o[0],s=o[1];e.useEffect(function(){(function(){try{return Promise.resolve(n.setup(r,a)).then(function(e){return Promise.resolve(n.scrollTable("first",e)).then(function(){return e})})}catch(e){return Promise.reject(e)}})().then(function(e){s(e)}).catch(function(e){throw new Error(JSON.stringify(e))})},[]);var f=null;return null!=c.session&&(f=/*#__PURE__*/u.default.createElement("div",{id:"page-wrap",key:Date()},/*#__PURE__*/u.default.createElement(i,{appEnv:c,render:t.render}))),f}i.propTypes={appEnv:a.default.object.isRequired,render:a.default.func.isRequired},o.propTypes={viyaConnection:a.default.object.isRequired,appControl:a.default.object.isRequired,render:a.default.func.isRequired},exports.DataEditor=o,exports.DataViewer=i;
//# sourceMappingURL=index.js.map
