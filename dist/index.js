var e=require("react"),t=require("prop-types"),n=require("@sassoftware/restafedit");function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=/*#__PURE__*/r(e),a=/*#__PURE__*/r(t);function o(t){var r=t.appEnv,a=t.editor,o=e.useState(!0),i=o[0],c=o[1],s=e.useState(null),l=s[0],f=s[1],p=function(e){f({status:2,msg:e})},d=a();/*#__PURE__*/return u.default.createElement(e.Fragment,null,/*#__PURE__*/u.default.createElement(d,{onEdit:function(e,t,u,a){n.cellEdit(e,t,u,a,r).then(function(e){c(!i),f(null)}).catch(function(e){p(e),f(e)})},onScroll:function(e){n.scrollTable(e,r).then(function(e){c(!i),f({status:0,msg:null})}).catch(function(e){p(e)})},onSave:function(e){n.updateTableRows(e,r).then(function(e){f({status:0,msg:e})}).catch(function(e){return f({status:2,msg:e})})},status:l,appEnv:r}))}function i(t){var r=t.viyaConnection,a=t.appControl,i=e.useState({}),c=i[0],s=i[1];e.useEffect(function(){(function(){try{return Promise.resolve(n.setup(r,a)).then(function(e){return Promise.resolve(n.scrollTable("first",e)).then(function(){return e})})}catch(e){return Promise.reject(e)}})().then(function(e){s(e)}).catch(function(e){throw new Error(JSON.stringify(e))})},[]);var l=null;return null!=c.session&&(l=/*#__PURE__*/u.default.createElement("div",{id:"page-wrap",key:Date()},/*#__PURE__*/u.default.createElement(o,{appEnv:c,editor:_selectViewer}))),l}o.propTypes={appEnv:a.default.object.isRequired,editor:a.default.func.isRequired},i.propTypes={viyaConnection:a.default.object.isRequired,appControl:a.default.object.isRequired,editor:a.default.func.isRequired},exports.DataEditor=i,exports.DataViewer=o;
//# sourceMappingURL=index.js.map
