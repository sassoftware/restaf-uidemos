var t=require("react"),e=require("@sassoftware/restafedit");function n(n){var a=n.appEnv,r=t.useState(!0),c=r[0],o=r[1],u=t.useState(null),i=u[0],s=u[1],l=function(t){s({status:2,msg:t})},f=a.appControl.appData.getViewer(a.appControl.appData);/*#__PURE__*/return React.createElement(t.Fragment,null,/*#__PURE__*/React.createElement(f,{onEdit:function(t,n,r,u){e.cellEdit(t,n,r,u,a).then(function(t){o(!c),s(null)}).catch(function(t){l(t),s(t)})},onScroll:function(t){e.scrollTable(t,a).then(function(t){o(!c),s({status:0,msg:null})}).catch(function(t){l(t)})},onSave:function(t){e.casUpdateRow(t,a).then(function(t){s({status:0,msg:t})}).catch(function(t){return s({status:2,msg:t})})},status:i,appEnv:a}))}module.exports={DataEditor:function(a){var r=a.viyaConnection,c=a.appControl,o=t.useState({}),u=o[0],i=o[1];t.useEffect(function(){(function(){try{return Promise.resolve(e.setup(r,c)).then(function(t){return Promise.resolve(e.scrollTable("first",t)).then(function(){return t})})}catch(t){return Promise.reject(t)}})().then(function(t){i(t)}).catch(function(t){throw new Error(JSON.stringify(t))})},[]);var s=null;return null!=u.session&&(s=/*#__PURE__*/React.createElement("div",{id:"page-wrap",key:Date()},/*#__PURE__*/React.createElement(n,{appEnv:u,key:u.id}))),s},DataViewer:n};
//# sourceMappingURL=index.js.map
