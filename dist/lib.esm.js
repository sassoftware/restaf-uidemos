import{useState as n,Fragment as t,useEffect as r}from"react";import{scrollTable as o,cellEdit as e,casUpdateRow as i,setup as u}from"@sassoftware/restafedit";import{jsx as a}from"react/jsx-runtime";function c(r){var u=r.appEnv,c=n(!0),s=c[0],f=c[1],p=n(null),l=p[0],h=p[1],m=function(n){h({status:2,msg:n})},v=u.appControl.appData.getViewer(u.appControl.appData);/*#__PURE__*/return a(t,{children:/*#__PURE__*/a(v,{onEdit:function(n,t,r,o){e(n,t,r,o,u).then(function(n){f(!s),h(null)}).catch(function(n){m(n),h(n)})},onScroll:function(n){o(n,u).then(function(n){f(!s),h({status:0,msg:null})}).catch(function(n){m(n)})},onSave:function(n){i(n,u).then(function(n){h({status:0,msg:n})}).catch(function(n){return h({status:2,msg:n})})},status:l,appEnv:u})})}function s(t){var e=t.viyaConnection,i=t.appControl,s=n({}),f=s[0],p=s[1];r(function(){(function(){try{return Promise.resolve(u(e,i)).then(function(n){return Promise.resolve(o("first",n)).then(function(){return n})})}catch(n){return Promise.reject(n)}})().then(function(n){p(n)}).catch(function(n){throw new Error(JSON.stringify(n))})},[]);var l=null;return null!=f.session&&(l=/*#__PURE__*/a("div",{id:"page-wrap",children:/*#__PURE__*/a(c,{appEnv:f},f.id)},Date())),l}export{s as DataEditor,c as DataViewer};
//# sourceMappingURL=lib.esm.js.map
