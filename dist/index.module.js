import t,{useState as n,Fragment as e,useEffect as r}from"react";import o from"prop-types";import{scrollTable as i,cellEdit as u,updateTableRows as c,setup as s}from"@sassoftware/restafedit";function a(r){var o=r.appEnv,s=r.editor,a=n(!0),f=a[0],p=a[1],l=n(null),m=l[0],d=l[1],v=function(t){d({status:2,msg:t})},h=s();/*#__PURE__*/return t.createElement(e,null,/*#__PURE__*/t.createElement(h,{onEdit:function(t,n,e,r){u(t,n,e,r,o).then(function(t){p(!f),d(null)}).catch(function(t){v(t),d(t)})},onScroll:function(t){i(t,o).then(function(t){p(!f),d({status:0,msg:null})}).catch(function(t){v(t)})},onSave:function(t,n){c(t,o).then(function(t){d({status:0,msg:t})}).catch(function(t){return d({status:2,msg:t})})},status:m,appEnv:o}))}function f(e){var o=e.viyaConnection,u=e.appControl,c=e.editor,f=n({}),p=f[0],l=f[1];r(function(){(function(){try{return Promise.resolve(s(o,u)).then(function(t){return Promise.resolve(i("first",t)).then(function(){return t})})}catch(t){return Promise.reject(t)}})().then(function(t){l(t)}).catch(function(t){throw new Error(JSON.stringify(t))})},[]);var m=null;return null!=p.session&&(m=/*#__PURE__*/t.createElement("div",{id:"page-wrap",key:Date()},/*#__PURE__*/t.createElement(a,{appEnv:p,editor:c}))),m}a.propTypes={appEnv:o.object.isRequired,editor:o.func.isRequired},f.propTypes={viyaConnection:o.object.isRequired,appControl:o.object.isRequired,editor:o.func.isRequired};export{f as DataEditor,a as DataViewer};
//# sourceMappingURL=index.module.js.map
