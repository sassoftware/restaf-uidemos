import n,{useState as e,Fragment as t,useEffect as r}from"react";import o from"prop-types";import{scrollTable as i,cellEdit as u,updateTableRows as c,setup as s}from"@sassoftware/restafedit";function a(r){var o=r.appEnv,s=e(!0),a=s[0],f=s[1],p=e(null),l=p[1],m=function(n){l({status:2,msg:n})};/*#__PURE__*/return n.createElement(t,null,r.render(function(n,e,t,r){u(n,e,t,r,o).then(function(n){f(!a),l(null)}).catch(function(n){m(n),l(n)})},function(n){i(n,o).then(function(n){f(!a),l({status:0,msg:null})}).catch(function(n){m(n)})},function(n){c(n,o).then(function(n){l({status:0,msg:n})}).catch(function(n){return l({status:2,msg:n})})},p[0],o))}function f(t){var o=t.viyaConnection,u=t.appControl,c=e({}),f=c[0],p=c[1];r(function(){(function(){try{return Promise.resolve(s(o,u)).then(function(n){return Promise.resolve(i("first",n)).then(function(){return n})})}catch(n){return Promise.reject(n)}})().then(function(n){p(n)}).catch(function(n){throw new Error(JSON.stringify(n))})},[]);var l=null;return null!=f.session&&(l=/*#__PURE__*/n.createElement("div",{id:"page-wrap",key:Date()},/*#__PURE__*/n.createElement(a,{appEnv:f,render:t.render}))),l}a.propTypes={appEnv:o.object.isRequired,render:o.func.isRequired},f.propTypes={viyaConnection:o.object.isRequired,appControl:o.object.isRequired,render:o.func.isRequired};export{f as DataEditor,a as DataViewer};
//# sourceMappingURL=index.module.js.map
