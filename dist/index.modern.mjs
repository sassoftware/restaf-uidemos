import t,{useState as e,Fragment as n,useEffect as r}from"react";import o from"prop-types";import{scrollTable as s,cellEdit as a,updateTableRows as i,setup as c}from"@sassoftware/restafedit";function p(r){const{appEnv:o,editor:c}=r,[p,l]=e(!0),[u,m]=e(null),d=t=>{m({status:2,msg:t})},f=c();/*#__PURE__*/return t.createElement(n,null,/*#__PURE__*/t.createElement(f,{onEdit:(t,e,n,r)=>{a(t,e,n,r,o).then(t=>{l(!p),m(null)}).catch(t=>{d(t),m(t)})},onScroll:t=>{s(t,o).then(t=>{l(!p),m({status:0,msg:null})}).catch(t=>{d(t)})},onSave:t=>{i(t,o).then(t=>{m({status:0,msg:t})}).catch(t=>m({status:2,msg:t}))},status:u,appEnv:o}))}function l(n){const{viyaConnection:o,appControl:a}=n,[i,l]=e({});r(()=>{(async()=>{let t=await c(o,a);return await s("first",t),t})().then(t=>{l(t)}).catch(t=>{throw new Error(JSON.stringify(t))})},[]);let u=null;return null!=i.session&&(u=/*#__PURE__*/t.createElement("div",{id:"page-wrap",key:Date()},/*#__PURE__*/t.createElement(p,{appEnv:i,editor:_selectViewer}))),u}p.propTypes={appEnv:o.object.isRequired,editor:o.func.isRequired},l.propTypes={viyaConnection:o.object.isRequired,appControl:o.object.isRequired,editor:o.func.isRequired};export{l as DataEditor,p as DataViewer};
//# sourceMappingURL=index.modern.mjs.map
