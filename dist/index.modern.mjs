import{useState as t,Fragment as a,useEffect as n}from"react";import{scrollTable as r,cellEdit as e,casUpdateRow as s,setup as o}from"@sassoftware/restafedit";function p(n){const{appEnv:o}=n,[p,i]=t(!0),[l,u]=t(null),c=t=>{u({status:2,msg:t})},f=o.appControl.appData.getViewer(o.appControl.appData);return h(a,null,h(f,{onEdit:(t,a,n,r)=>{e(t,a,n,r,o).then(t=>{i(!p),u(null)}).catch(t=>{c(t),u(t)})},onScroll:t=>{r(t,o).then(t=>{i(!p),u({status:0,msg:null})}).catch(t=>{c(t)})},onSave:t=>{s(t,o).then(t=>{u({status:0,msg:t})}).catch(t=>u({status:2,msg:t}))},status:l,appEnv:o}))}var i={DataEditor:function(a){const{viyaConnection:e,appControl:s}=a,[i,l]=t({});n(()=>{(async()=>{let t=await o(e,s);return await r("first",t),t})().then(t=>{l(t)}).catch(t=>{throw new Error(JSON.stringify(t))})},[]);let u=null;return null!=i.session&&(u=h("div",{id:"page-wrap",key:Date()},h(p,{appEnv:i,key:i.id}))),u},DataViewer:p};export{i as default};
//# sourceMappingURL=index.modern.mjs.map
