import t,{useState as e,Fragment as n,useEffect as a}from"react";import r from"prop-types";import{scrollTable as o,cellEdit as p,casUpdateRow as s,setup as i}from"@sassoftware/restafedit";function c(a){const{appEnv:r}=a,[i,c]=e(!0),[l,u]=e(null),m=t=>{u({status:2,msg:t})},E=r.appControl.appData.getViewer(r.appControl.appData);/*#__PURE__*/return t.createElement(n,null,/*#__PURE__*/t.createElement(E,{onEdit:(t,e,n,a)=>{p(t,e,n,a,r).then(t=>{c(!i),u(null)}).catch(t=>{m(t),u(t)})},onScroll:t=>{o(t,r).then(t=>{c(!i),u({status:0,msg:null})}).catch(t=>{m(t)})},onSave:t=>{s(t,r).then(t=>{u({status:0,msg:t})}).catch(t=>u({status:2,msg:t}))},status:l,appEnv:r}))}function l(n){const{viyaConnection:r,appControl:p}=n,[s,l]=e({});a(()=>{(async()=>{let t=await i(r,p);return await o("first",t),t})().then(t=>{l(t)}).catch(t=>{throw new Error(JSON.stringify(t))})},[]);let u=null;return null!=s.session&&(u=/*#__PURE__*/t.createElement("div",{id:"page-wrap",key:Date()},/*#__PURE__*/t.createElement(c,{appEnv:s,key:s.id}))),u}c.propTypes={appEnv:r.object.isRequired},l.propTypes={viyaConnection:r.object.isRequired,appControl:r.object.isRequired};export{l as DataEditor,c as DataViewer};
//# sourceMappingURL=index.modern.mjs.map
