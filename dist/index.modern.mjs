import e,{useState as t,Fragment as r,useEffect as n}from"react";import s from"prop-types";import{scrollTable as a,cellEdit as o,updateTableRows as i,setup as p}from"@sassoftware/restafedit";function c(n){const{appEnv:s}=n,[p,c]=t(!0),[u,l]=t(null),d=e=>{l({status:2,msg:e})};/*#__PURE__*/return e.createElement(r,null,n.render((e,t,r,n)=>{o(e,t,r,n,s).then(e=>{c(!p),l(null)}).catch(e=>{d(e),l(e)})},e=>{a(e,s).then(e=>{c(!p),l({status:0,msg:null})}).catch(e=>{d(e)})},e=>{i(e,s).then(e=>{l({status:0,msg:e})}).catch(e=>l({status:2,msg:e}))},u,s))}function u(r){const{viyaConnection:s,appControl:o}=r,[i,u]=t({});n(()=>{(async()=>{let e=await p(s,o);return await a("first",e),e})().then(e=>{u(e)}).catch(e=>{throw new Error(JSON.stringify(e))})},[]);let l=null;return null!=i.session&&(l=/*#__PURE__*/e.createElement("div",{id:"page-wrap",key:Date()},/*#__PURE__*/e.createElement(c,{appEnv:i,render:r.render}))),l}c.propTypes={appEnv:s.object.isRequired,render:s.func.isRequired},u.propTypes={viyaConnection:s.object.isRequired,appControl:s.object.isRequired,render:s.func.isRequired};export{u as DataEditor,c as DataViewer};
//# sourceMappingURL=index.modern.mjs.map
