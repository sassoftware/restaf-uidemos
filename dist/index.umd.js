!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types"),require("@sassoftware/restafedit")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","@sassoftware/restafedit"],t):t((e||self).viyaedit={},e.react,e.propTypes,e.restafedit)}(this,function(e,t,n,r){function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=/*#__PURE__*/a(t),i=/*#__PURE__*/a(n);function u(e){var n=e.appEnv,a=t.useState(!0),i=a[0],u=a[1],s=t.useState(null),c=s[0],f=s[1],l=function(e){f({status:2,msg:e})},p=n.appControl.appData.getViewer(n.appControl.appData);/*#__PURE__*/return o.default.createElement(t.Fragment,null,/*#__PURE__*/o.default.createElement(p,{onEdit:function(e,t,a,o){r.cellEdit(e,t,a,o,n).then(function(e){u(!i),f(null)}).catch(function(e){l(e),f(e)})},onScroll:function(e){r.scrollTable(e,n).then(function(e){u(!i),f({status:0,msg:null})}).catch(function(e){l(e)})},onSave:function(e){r.casUpdateRow(e,n).then(function(e){f({status:0,msg:e})}).catch(function(e){return f({status:2,msg:e})})},status:c,appEnv:n}))}function s(e){var n=e.viyaConnection,a=e.appControl,i=t.useState({}),s=i[0],c=i[1];t.useEffect(function(){(function(){try{return Promise.resolve(r.setup(n,a)).then(function(e){return Promise.resolve(r.scrollTable("first",e)).then(function(){return e})})}catch(e){return Promise.reject(e)}})().then(function(e){c(e)}).catch(function(e){throw new Error(JSON.stringify(e))})},[]);var f=null;return null!=s.session&&(f=/*#__PURE__*/o.default.createElement("div",{id:"page-wrap",key:Date()},/*#__PURE__*/o.default.createElement(u,{appEnv:s,key:s.id}))),f}u.propTypes={appEnv:i.default.object.isRequired},s.propTypes={viyaConnection:i.default.object.isRequired,appControl:i.default.object.isRequired},e.DataEditor=s,e.DataViewer=u});
//# sourceMappingURL=index.umd.js.map
