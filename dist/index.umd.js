!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types"),require("@sassoftware/restafedit")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","@sassoftware/restafedit"],t):t((e||self).viyaedit={},e.react,e.propTypes,e.restafedit)}(this,function(e,t,n,r){function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=/*#__PURE__*/o(t),u=/*#__PURE__*/o(n);function a(e){var n=e.appEnv,o=e.editor,u=t.useState(!0),a=u[0],s=u[1],f=t.useState(null),c=f[0],l=f[1],d=function(e){l({status:2,msg:e})},p=o();/*#__PURE__*/return i.default.createElement(t.Fragment,null,/*#__PURE__*/i.default.createElement(p,{onEdit:function(e,t,o,i){r.cellEdit(e,t,o,i,n).then(function(e){s(!a),l(null)}).catch(function(e){d(e),l(e)})},onScroll:function(e){r.scrollTable(e,n).then(function(e){s(!a),l({status:0,msg:null})}).catch(function(e){d(e)})},onSave:function(e){r.updateTableRows(e,n).then(function(e){l({status:0,msg:e})}).catch(function(e){return l({status:2,msg:e})})},status:c,appEnv:n}))}function s(e){var n=e.viyaConnection,o=e.appControl,u=e.editor,s=t.useState({}),f=s[0],c=s[1];t.useEffect(function(){(function(){try{return Promise.resolve(r.setup(n,o)).then(function(e){return Promise.resolve(r.scrollTable("first",e)).then(function(){return e})})}catch(e){return Promise.reject(e)}})().then(function(e){c(e)}).catch(function(e){throw new Error(JSON.stringify(e))})},[]);var l=null;return null!=f.session&&(l=/*#__PURE__*/i.default.createElement("div",{id:"page-wrap",key:Date()},/*#__PURE__*/i.default.createElement(a,{appEnv:f,editor:u}))),l}a.propTypes={appEnv:u.default.object.isRequired,editor:u.default.func.isRequired},s.propTypes={viyaConnection:u.default.object.isRequired,appControl:u.default.object.isRequired,editor:u.default.func.isRequired},e.DataEditor=s,e.DataViewer=a});
//# sourceMappingURL=index.umd.js.map
