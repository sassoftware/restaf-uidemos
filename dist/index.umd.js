!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("@sassoftware/restafedit")):"function"==typeof define&&define.amd?define(["exports","react","@sassoftware/restafedit"],t):t((e||self).viyaedit={},e.react,e.restafedit)}(this,function(e,t,n){function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=/*#__PURE__*/o(t);function a(e){var o=e.appEnv,a=t.useState(!0),i=a[0],u=a[1],s=t.useState(null),c=s[0],f=s[1],l=function(e){f({status:2,msg:e})},p=o.appControl.appData.getViewer(o.appControl.appData);/*#__PURE__*/return r.default.createElement(t.Fragment,null,/*#__PURE__*/r.default.createElement(p,{onEdit:function(e,t,r,a){n.cellEdit(e,t,r,a,o).then(function(e){u(!i),f(null)}).catch(function(e){l(e),f(e)})},onScroll:function(e){n.scrollTable(e,o).then(function(e){u(!i),f({status:0,msg:null})}).catch(function(e){l(e)})},onSave:function(e){n.casUpdateRow(e,o).then(function(e){f({status:0,msg:e})}).catch(function(e){return f({status:2,msg:e})})},status:c,appEnv:o}))}function i(e){var o=e.viyaConnection,i=e.appControl,u=t.useState({}),s=u[0],c=u[1];t.useEffect(function(){(function(){try{return Promise.resolve(n.setup(o,i)).then(function(e){return Promise.resolve(n.scrollTable("first",e)).then(function(){return e})})}catch(e){return Promise.reject(e)}})().then(function(e){c(e)}).catch(function(e){throw new Error(JSON.stringify(e))})},[]);var f=null;return null!=s.session&&(f=/*#__PURE__*/r.default.createElement("div",{id:"page-wrap",key:Date()},/*#__PURE__*/r.default.createElement(a,{appEnv:s,key:s.id}))),f}a.propTypes={appEnv:t.PropTypes.object.isRequired},i.propTypes={viyaConnection:PropTypes.object.isRequired,appControl:PropTypes.object.isRequired},e.DataEditor=i,e.DataViewer=a});
//# sourceMappingURL=index.umd.js.map
