!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("@sassoftware/restafedit")):"function"==typeof define&&define.amd?define(["exports","react","@sassoftware/restafedit"],e):e((t||self).viyaedit={},t.react,t.restafedit)}(this,function(t,e,n){function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=/*#__PURE__*/a(e);function o(t){var a=t.appEnv,o=e.useState(!0),u=o[0],i=o[1],c=e.useState(null),f=c[0],s=c[1],l=function(t){s({status:2,msg:t})},p=a.appControl.appData.getViewer(a.appControl.appData);/*#__PURE__*/return r.default.createElement(e.Fragment,null,/*#__PURE__*/r.default.createElement(p,{onEdit:function(t,e,r,o){n.cellEdit(t,e,r,o,a).then(function(t){i(!u),s(null)}).catch(function(t){l(t),s(t)})},onScroll:function(t){n.scrollTable(t,a).then(function(t){i(!u),s({status:0,msg:null})}).catch(function(t){l(t)})},onSave:function(t){n.casUpdateRow(t,a).then(function(t){s({status:0,msg:t})}).catch(function(t){return s({status:2,msg:t})})},status:f,appEnv:a}))}t.DataEditor=function(t){var a=t.viyaConnection,u=t.appControl,i=e.useState({}),c=i[0],f=i[1];e.useEffect(function(){(function(){try{return Promise.resolve(n.setup(a,u)).then(function(t){return Promise.resolve(n.scrollTable("first",t)).then(function(){return t})})}catch(t){return Promise.reject(t)}})().then(function(t){f(t)}).catch(function(t){throw new Error(JSON.stringify(t))})},[]);var s=null;return null!=c.session&&(s=/*#__PURE__*/r.default.createElement("div",{id:"page-wrap",key:Date()},/*#__PURE__*/r.default.createElement(o,{appEnv:c,key:c.id}))),s},t.DataViewer=o});
//# sourceMappingURL=index.umd.js.map
