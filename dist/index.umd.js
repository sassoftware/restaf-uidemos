!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("react"),require("@sassoftware/restafedit")):"function"==typeof define&&define.amd?define(["react","@sassoftware/restafedit"],e):(t||self).viyaedit=e(t.react,t.restafedit)}(this,function(t,e){function n(n){var o=n.appEnv,r=t.useState(!0),a=r[0],i=r[1],u=t.useState(null),s=u[0],c=u[1],f=function(t){c({status:2,msg:t})},l=o.appControl.appData.getViewer(o.appControl.appData);return h(t.Fragment,null,h(l,{onEdit:function(t,n,r,u){e.cellEdit(t,n,r,u,o).then(function(t){i(!a),c(null)}).catch(function(t){f(t),c(t)})},onScroll:function(t){e.scrollTable(t,o).then(function(t){i(!a),c({status:0,msg:null})}).catch(function(t){f(t)})},onSave:function(t){e.casUpdateRow(t,o).then(function(t){c({status:0,msg:t})}).catch(function(t){return c({status:2,msg:t})})},status:s,appEnv:o}))}return{DataEditor:function(o){var r=o.viyaConnection,a=o.appControl,i=t.useState({}),u=i[0],s=i[1];t.useEffect(function(){(function(){try{return Promise.resolve(e.setup(r,a)).then(function(t){return Promise.resolve(e.scrollTable("first",t)).then(function(){return t})})}catch(t){return Promise.reject(t)}})().then(function(t){s(t)}).catch(function(t){throw new Error(JSON.stringify(t))})},[]);var c=null;return null!=u.session&&(c=h("div",{id:"page-wrap",key:Date()},h(n,{appEnv:u,key:u.id}))),c},DataViewer:n}});
//# sourceMappingURL=index.umd.js.map
