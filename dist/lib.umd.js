!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react"),require("@sassoftware/restafedit"),require("react/jsx-runtime")):"function"==typeof define&&define.amd?define(["exports","react","@sassoftware/restafedit","react/jsx-runtime"],e):e((t||self).viyaedit={},t.react,t.restafedit,t.jsxRuntime)}(this,function(t,e,n,r){function i(t){var i=t.appEnv,a=e.useState(!0),o=a[0],s=a[1],u=e.useState(null),c=u[0],f=u[1],l=function(t){f({status:2,msg:t})},p=i.appControl.appData.getViewer(i.appControl.appData);/*#__PURE__*/return r.jsx(e.Fragment,{children:/*#__PURE__*/r.jsx(p,{onEdit:function(t,e,r,a){n.cellEdit(t,e,r,a,i).then(function(t){s(!o),f(null)}).catch(function(t){l(t),f(t)})},onScroll:function(t){n.scrollTable(t,i).then(function(t){s(!o),f({status:0,msg:null})}).catch(function(t){l(t)})},onSave:function(t){n.casUpdateRow(t,i).then(function(t){f({status:0,msg:t})}).catch(function(t){return f({status:2,msg:t})})},status:c,appEnv:i})})}t.DataEditor=function(t){var a=t.viyaConnection,o=t.appControl,s=e.useState({}),u=s[0],c=s[1];e.useEffect(function(){(function(){try{return Promise.resolve(n.setup(a,o)).then(function(t){return Promise.resolve(n.scrollTable("first",t)).then(function(){return t})})}catch(t){return Promise.reject(t)}})().then(function(t){c(t)}).catch(function(t){throw new Error(JSON.stringify(t))})},[]);var f=null;return null!=u.session&&(f=/*#__PURE__*/r.jsx("div",{id:"page-wrap",children:/*#__PURE__*/r.jsx(i,{appEnv:u},u.id)},Date())),f},t.DataViewer=i});
//# sourceMappingURL=lib.umd.js.map
