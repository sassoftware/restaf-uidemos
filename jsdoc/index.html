<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>Explanation of the arguments used in this library</h1>
<p>Please see <a href="../../README.md">this for thr motivation for this library</a></p>
<h2>appEnv</h2>
<p>This object houses all the information needed access Viya, edit handlers, etc...
It also has a place for application writers to save application specific information.</p>
<p>The schema is below with sample values. While the library only supports cas server at this point, the plan is to add support for compute service.</p>
<p>appEnv is passed to all user defined handlers and functions in this library. Makes for a more flexible programming.</p>
<p>Do not change any of the values in this object. Use appControl object to store/read your information.</p>
<pre class="prettyprint source lang-js"><code>{
    store       : &lt;this is the control object for restaf library>,
    session     : &lt;cas session object>,
    restaflib   : &lt;object to access functions in restaflib>,
    logonPayload: &lt;information to connect to Viya -see below>,
    appControl  : appControl /* see below */
    id          : &lt;A unique id for this invocation>
}
    
</code></pre>
<h2>logonPayload</h2>
<p>The logonPayload is designed to handle many situations. See this link for all the options <a href="https:%5C/%5C/github.com/sassoftware/restaf/wiki/authentication">https://github.com/sassoftware/restaf/wiki/authentication</a></p>
<p>However for the use cases this library is designed for the following two are probably sufficient</p>
<h3>Authenticated browser</h3>
<p>If the browser is authenticated(authorization_code flow) then the following is recommend</p>
<pre class="prettyprint source lang-js"><code>{ host: &lt;url for your Viya server>}
</code></pre>
<p>If you use the authentication token, then use the following:</p>
<pre class="prettyprint source lang-js"><code>{ 
    host: &lt;url for your Viya server>,
    token: &lt;your authentication token>
}
</code></pre>
<h2>AppControl</h2>
<p>This is passed to setup by the user to start the app session.</p>
<p>The schema is below with sample values. While the library only supports cas server at this point, the plan is to add support for compute service.</p>
<pre class="prettyprint source lang-js"><code>{
    description: 'Simple Example',
    dataControl: {
        source: 'cas',
        table : {casuser: 'caslib', name: 'testdata'},
        access: {},
        byVars: [],
        where : {},
        initialFetch: {
            count : 1,
            from  : 1,
            format: false
        }
        customColumns: {
            total: {
                Column         : &quot;Total&quot;,
                Label          : &quot;Grand Total&quot;,
                FormattedLength: 12,
                Type           : &quot;double&quot;,
                }
        },
        customRows: []
    },
    editControl: {
        handlers: {},
        save    : true,  
        autoSave: true, 

    },
    appData: {
        layout: {},
        formName: 'testdata',
        uiControl:{
          defaultComponent: &quot;InputEntry&quot;,
          show            : ['id', 'total', 'x2', 'x1', 'x3'],
          visuals         : {
            x2: {
              component: &quot;Slider&quot;,
              props    : {
                min  : 0,
                max  : 50,
                steps: 1,
              },
            },
            total: {
              props: {
                disabled: true,
              },
            }
          }
        }
    
    }
</code></pre>
<h3>Notes on appControl</h3>
<p>Only the not-so obvious keys are explained below.</p>
<ul>
<li>from: The record number where the read starts(table.fetch action)</li>
<li>count: Number of records to read</li>
<li>byVars: An array of by variables. At this time, one has to use key fields to update a record in CAS. ex: ['firstname', 'lastname']</li>
<li>appData - this is where the  app writer can save information and retrieve it from appEnv. appEnv is passed to all handlers. So it is available in functions like init, main etc.</li>
</ul>
<h4>Sample appData</h4>
<p>In the quick start React component(viyaedit) that uses this library, the appData is used to hold some UI related information as shown below. So it can be anything you want.</p>
<pre class="prettyprint source lang-js"><code>Content of appData is entirely upto the developer. Sample below
    appData: {
        formName: 'testdata',
        viewer  : {
            selectViewer: 'a function to return a react component',
            props       : {editor: 'DataFormMulti'}
            },
        defaultComponent: &quot;InputEntry&quot;,
        show   : ['id', 'total', 'x2', 'x1', 'x3'],
        visuals: {
            x2: {
            component: &quot;Slider&quot;,
            props    : {
                min  : 0,
                max  : 50,
                steps: 1,
            },
            },
            total: {
            props: {
                disabled: true,
            },
            }
        }
        }
</code></pre>
<h2>rowObject</h2>
<p>The rows in the table(be it cas tables or SAS tables) are reduced to this form</p>
<p>{x1: 20, x2: 'abc',....}.</p>
<p>The keys are lower-cased column names.</p>
<p>If you added computed columns they will also be in this object. This allows the custom handlers like init, main and term to access these.</p>
<p>When updating the data on the server, the custom columns are dropped.</p>
<h2>eSchema</h2>
<p>The schema returned from the server is reduced to this form:
{x1: {detail4-x1}, x2: {details4-x2},...}</p>
<p>An extra key 'custom&quot; is added to each of the details. This is set to &quot;true&quot; if the column is a custom column.</p>
<p>This additional key is useful</p>
<ul>
<li>Save operations can drop these columns</li>
<li>Can be used by UI to apply a different style to custom columns</li>
</ul>
<h2>byVars</h2>
<p>At the current time, we have to use key columns to identify the row to be updated. So byVars is an array of the key fields.</p>
<p>ex: ['X1', 'X2']</p>
<h2>rowIndex</h2>
<p>When editing in a table form, it might be useful to know which row the current data array is being processed in the handlers. So this is purely informational</p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#cellEdit">cellEdit</a></li><li><a href="global.html#commonHandler">commonHandler</a></li><li><a href="global.html#fetchTableRows">fetchTableRows</a></li><li><a href="global.html#scrollTable">scrollTable</a></li><li><a href="global.html#setup">setup</a></li><li><a href="global.html#updateTableRows">updateTableRows</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Sat Jul 09 2022 14:54:51 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>